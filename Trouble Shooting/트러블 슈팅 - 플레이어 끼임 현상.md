#  트러블 슈팅 - 플레이어 지표면 끼임 현상

## ❓ 문제 요약

- 플레이어가 특정 바닥 지점에 **묶여서 점프가 불가능**한 현상이 발생함.
- 주로 **타일이 맞물리는 경계 지점**에서 발생.

---

## 🧪 시도 및 해결 과정

### 1️⃣ 첫 번째 시도: 바닥 타일 구조 점검

- 바닥 타일이 여러 개 나열되어 연결된 구조.
- 문제가 발생한 위치는 **타일 경계 지점**으로 확인.
- **TilemapCollider2D + CompositeCollider2D + Rigidbody2D(Static)** 사용하여 콜라이더 병합.
- ❌ 문제는 오히려 심화됨. **더 자주 끼임 발생**.

---

### 2️⃣ 두 번째 시도: PlatformEffector2D 적용

- 특정 방향에서만 충돌하도록 PlatformEffector2D 도입.
- `Use One Way` 활성화, 각도 180° → ❌ 문제 그대로 발생.
- 각도 170° 이하 → ✅ 끼임은 사라짐, ❌ 대신 **땅 관통 현상** 발생.

---

### 3️⃣ 세 번째 시도: 콜라이더 형태 및 감지 방식 변경

- 기존 `BoxCollider2D` 대신 **`CapsuleCollider2D`** 사용.
  - 모서리가 부드럽기 때문에 끼임 현상이 줄어듦.
  - ✅ 끼임/관통 현상 **현저히 감소**, ❌ 하지만 완전 해결은 아님.
- **추가 발견**:
  - 플레이어의 바닥 착지 감지를 위해 사용하던 `GroundDetected` 오브젝트에 **IsTrigger가 꺼져 있었음**.
  - 이로 인해 바닥에 **실제로 충돌하여 착지가 방해됨**.
  - `IsTrigger = true`로 설정 후 → ✅ **끼임 현상 더욱 감소**, 착지 인식 정상 작동.

---

### 4️⃣ 네 번째 시도: 바닥 콜라이더 길이 연장

- 바닥 콜라이더를 양 끝으로 약간 늘려 콜라이더 간 **틈새 간극 최소화**.
- ❌ 문제 해결에는 큰 영향 없음.
- ✅ 하지만 **안정성을 위해 채택**.

---

### 5️⃣ 다섯 번째 시도: 중력 수치 감소

- 바닥에 박히는 현상이 중력 때문이라 판단하고 `Gravity Scale` 조정.
- ✅ 땅속 끼임 현상 감소.
- ❌ 그러나 **게임 조작감이 심각하게 저하**되어 **비채택**.

---

### 6️⃣ 여섯 번째 시도: Raycast로 착지 판정 전환

- 기존 `Collider` 기반 착지 판정을 **Raycast 방식으로 전환** 시도.
- ❌ **로직 복잡도 증가로 인해 개발 부담** → **비채택**.

---

### 7️⃣ 일곱 번째 시도: 독립 바닥 콜라이더 설치

- 매우 긴 바닥 오브젝트를 만들어 **장애물과 분리된 독자적 콜라이더**로 착지 처리 시도.
- ✅ 장애물의 간섭을 제거.
- ❌ 하지만 **구멍 함정 등의 맵 구조와 충돌**, **무한 연장 불가**로 **비채택**.

---

### 8️⃣ 여덟 번째 시도: 프레임 차이에 의한 물리 오작동 의심

- 팀원마다 끼임 발생 빈도 차이 → **프레임 차이**로 추정.
- 게임 프레임을 **60fps로 고정**.
- ❌ 문제 해결에는 **영향 없음**.

---

### 9️⃣ 아홉 번째 시도: 충돌 감지 정밀도 향상

- 플레이어의 `Rigidbody2D.collisionDetection`을 **Continuous**로 설정.
- ✅ 물리 충돌 정밀도 향상, 충돌 누락 방지.
- ✅ 오랜 테스트에도 끼임 재현되지 않음.

---

## 🏁 최종 결론

> `Rigidbody2D.collisionDetection = Continuous` 설정을 마지막으로 
> **플레이어가 바닥에 끼이는 문제를 안정적으로 해결**함.

---

## 🧠 참고 요약

- Unity의 타일 기반 구조에서는 **Collider 형태, 방향성 충돌, 충돌 감지 정밀도**가 핵심.
- 플레이어가 빠르게 움직이거나 착지 판정이 중요한 게임에서는  
  `Continuous` 모드 사용이 **물리 문제 해결에 매우 효과적**.
- **트리거 오브젝트가 실제 물리 충돌을 방해하지 않도록 IsTrigger 설정도 필수**.
